(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){e.exports=a(296)},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),o=a.n(i),l=a(134),c=a(298),s=a(299),m=a(300),u=a(47),p=a(18),d=a(133),h={pathparams:function(){return jt.location.pathname.split("/")},lastPathparam:function(){return this.pathparams().slice(-1)[0]},searchparams:function(){var e=jt.location.search.substr(1).split("&").map(function(e){return e.split("=")});return Object.assign.apply(Object,Object(d.a)(e.map(function(e){return Object(p.a)({},e[0],e[1])})))}},g={isLoggedIn:function(){return!!h.searchparams().test_user||(localStorage.getItem("isLoggedIn")&&sessionStorage.setItem("isLoggedIn",!0),sessionStorage.getItem("isLoggedIn"))},login:function(e){sessionStorage.setItem("isLoggedIn",!0),e&&localStorage.setItem("isLoggedIn",!0)},logout:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];sessionStorage.removeItem("isLoggedIn"),localStorage.removeItem("isLoggedIn"),jt.push({pathname:"/login",state:{from:jt.location}})}},f=a(21),E=a(22),b=a(24),w=a(23),v=a(25),y=a(10),O=a(28),k=a.n(O),j=a(34),x=a.n(j),S=a(33),C=a.n(S),N=a(35),T=a.n(N),I=a(121),R=a.n(I),F=a(122),L=a.n(F),_=a(39),P=a.n(_),M=a(38),A=a.n(M),D=a(31),W=a.n(D),B=a(11),G=a.n(B),U=a(5),q=a.n(U);function z(e){return e.json().then(function(t){if(e.ok)return t;if(401===e.status)return g.logout();throw new Error(t.errors)})}function H(e){var t=h.searchparams().test_user;return t&&(e=e+"?test_user="+t),e}var J={signup:function(e){return fetch("/api/register",{method:"POST",body:e}).then(z)},login:function(e){return fetch("/api/login",{method:"POST",body:e}).then(z)},logout:function(){return fetch("/api/logout",{method:"DELETE"}).then(z)},userProfile:function(e){return fetch(H("/api/users/"+e),{method:"GET"}).then(z)},timeline:function(){return fetch(H("/api/timeline"),{method:"GET"}).then(z)},userTweets:function(e){return fetch(H("/api/users/"+e+"/tweets"),{method:"GET"}).then(z)},getComments:function(e){return fetch(H("/api/tweets/"+e+"/comments"),{method:"GET"}).then(z)},postTweets:function(e){return e.append("tweet_type","orig"),fetch(H("/api/tweets"),{method:"POST",body:e}).then(z)},postComments:function(e,t){return t.append("comment_to_id",e),t.append("tweet_type","comm"),fetch(H("/api/tweets"),{method:"POST",body:t}).then(z)},postRetweets:function(e,t){return t.append("retweet_from_id",e),t.append("tweet_type","retw"),fetch(H("/api/tweets"),{method:"POST",body:t}).then(z)},like:function(e){var t=new FormData;return t.append("tweet_id",e),fetch(H("/api/likes"),{method:"POST",body:t}).then(z)},followings:function(){return fetch(H("/api/follows/followings"),{method:"GET"}).then(z)},follow:function(e){var t=new FormData;return t.append("to_user_id",e),fetch(H("/api/follows"),{method:"POST",body:t}).then(z)},unfollow:function(e){var t=new FormData;return t.append("to_user_id",e),fetch(H("/api/follows"),{method:"DELETE",body:t}).then(z)},search:function(e){var t="/api/search/tweets?keyword="+e+"&maxresults=50",a=h.searchparams().test_user;return a&&(t=t+"&test_user="+a),fetch(t,{method:"GET"}).then(z)}},Y=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={redirectToReferrer:!1,rememberMe:!1},a.handleSubmit=a.handleSubmit.bind(Object(y.a)(Object(y.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"handleRemember",value:function(){this.setState({rememberMe:!this.state.rememberMe})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target),a=this;t.append("remember_me",this.state.rememberMe),J.login(t).then(function(e){g.login(a.state.rememberMe),a.setState({redirectToReferrer:!0})}).catch(function(e){alert("login failed!\n"+e.message)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.redirectToReferrer?r.a.createElement(m.a,{to:"/"}):r.a.createElement("main",{className:t.main},r.a.createElement(C.a,null),r.a.createElement(W.a,{className:t.paper},r.a.createElement(k.a,{className:t.avatar}),r.a.createElement(G.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(T.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(A.a,{htmlFor:"email"},"Email Address"),r.a.createElement(P.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0})),r.a.createElement(T.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(A.a,{htmlFor:"password"},"Password"),r.a.createElement(P.a,{name:"password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(R.a,{control:r.a.createElement(L.a,{value:"remember",color:"primary",onChange:function(t){t.preventDefault(),e.handleRemember()}}),label:"Remember me"}),r.a.createElement(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in"))))}}]),t}(r.a.Component),K=q()(function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Y),Q=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={redirectToReferrer:!1},a.handleSubmit=a.handleSubmit.bind(Object(y.a)(Object(y.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target),a=this;J.signup(t).then(function(e){g.login(),a.setState({redirectToReferrer:!0})}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToReferrer?r.a.createElement(m.a,{to:"/"}):r.a.createElement("main",{className:e.main},r.a.createElement(C.a,null),r.a.createElement(W.a,{className:e.paper},r.a.createElement(k.a,{className:e.avatar}),r.a.createElement(G.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:e.form,onSubmit:this.handleSubmit},r.a.createElement(T.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(A.a,{htmlFor:"email"},"Email Address"),r.a.createElement(P.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0})),r.a.createElement(T.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(A.a,{htmlFor:"username"},"Your Username"),r.a.createElement(P.a,{id:"username",name:"username",autoComplete:"username",autoFocus:!0})),r.a.createElement(T.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(A.a,{htmlFor:"display_name"},"Your Display Name"),r.a.createElement(P.a,{id:"display_name",name:"display_name",autoComplete:"display_name",autoFocus:!0})),r.a.createElement(T.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(A.a,{htmlFor:"password"},"Password"),r.a.createElement(P.a,{name:"password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Register"))))}}]),t}(r.a.Component),V=q()(function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Q),X=a(20),Z=a(12),$=a.n(Z),ee=a(123),te=a.n(ee),ae=a(124),ne=a.n(ae),re=a(27),ie=a.n(re),oe=a(65),le=a.n(oe),ce=a(54),se=a.n(ce),me=a(41),ue=a.n(me),pe=a(84),de=a.n(pe),he=a(46),ge=a(125),fe=a.n(ge),Ee=a(126),be=a.n(Ee),we=a(87),ve=a.n(we),ye=a(85),Oe=a.n(ye),ke=a(86),je=a.n(ke),xe=a(53),Se=a.n(xe),Ce=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,mobileMoreAnchorEl:null},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.handleSearch=function(e){""!==e.target.value.trim()&&"Enter"===e.key&&jt.push("/search?search="+e.target.value.trim())},a.handleSignOut=function(){a.handleMenuClose(),J.logout().then(function(e){g.logout()}).catch(function(e){alert("Fail!")})},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.mobileMoreAnchorEl,n=this.props.classes,i=Boolean(t),o=Boolean(a),l=r.a.createElement(de.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:this.handleMenuClose},r.a.createElement(ue.a,{onClick:this.handleMenuClose},"Profile"),r.a.createElement(ue.a,{onClick:this.handleMenuClose},"My account"),r.a.createElement(ue.a,{onClick:this.handleSignOut},"Sign out")),c=r.a.createElement(de.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:this.handleMenuClose},r.a.createElement(ue.a,{onClick:this.handleMobileMenuClose},r.a.createElement(ie.a,{color:"inherit"},r.a.createElement(se.a,{badgeContent:4,color:"secondary"},r.a.createElement(Oe.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(ue.a,{onClick:this.handleMobileMenuClose},r.a.createElement(ie.a,{color:"inherit"},r.a.createElement(se.a,{badgeContent:11,color:"secondary"},r.a.createElement(je.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(ue.a,{onClick:this.handleProfileMenuOpen},r.a.createElement(ie.a,{color:"inherit"},r.a.createElement(ve.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:n.root},r.a.createElement(te.a,{position:"static"},r.a.createElement(ne.a,null,r.a.createElement(ie.a,{className:n.menuButton,color:"inherit","aria-label":"Open drawer"},r.a.createElement(fe.a,null)),r.a.createElement(G.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Material-UI"),r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(be.a,null)),r.a.createElement(le.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},onKeyDown:this.handleSearch})),r.a.createElement("div",{className:n.grow}),r.a.createElement("div",{className:n.sectionDesktop},r.a.createElement(ie.a,{color:"inherit"},r.a.createElement(se.a,{badgeContent:4,color:"secondary"},r.a.createElement(Oe.a,null))),r.a.createElement(ie.a,{color:"inherit"},r.a.createElement(se.a,{badgeContent:17,color:"secondary"},r.a.createElement(je.a,null))),r.a.createElement(ie.a,{"aria-owns":i?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(ve.a,null))),r.a.createElement("div",{className:n.sectionMobile},r.a.createElement(ie.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(Se.a,null))))),l,c)}}]),t}(r.a.Component),Ne=Object(X.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(p.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(he.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(he.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(p.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(p.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(p.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})(Ce),Te=a(67),Ie=a.n(Te),Re=a(40),Fe=a.n(Re),Le=a(51),_e=a.n(Le),Pe=a(45),Me=a.n(Pe);var Ae=function(e){return r.a.createElement("span",{onClick:function(){return jt.push(e.to)}},e.children)},De=a(19),We=function(e){var t=De.grey[500];switch(e.charCodeAt(0)%16){case 0:t=De.red[500];break;case 1:t=De.pink[500];break;case 2:t=De.purple[500];break;case 3:t=De.deepPurple[500];break;case 4:t=De.indigo[500];break;case 5:t=De.blue[500];break;case 6:t=De.lightBlue[500];break;case 7:t=De.cyan[500];break;case 8:t=De.teal[500];break;case 9:t=De.green[500];break;case 10:t=De.lightGreen[500];break;case 11:t=De.lime[500];break;case 12:t=De.yellow[500];break;case 13:t=De.amber[500];break;case 14:t=De.orange[500];break;case 15:t=De.deepOrange[500];break;default:t=De.grey[500]}return t},Be=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={userid:"Loading",username:"Loading",displayname:"Loading",tweets:"Loading",followers:"Loading",followings:"Loading",followed:"Loading"},a.fetchProfile=a.fetchProfile.bind(Object(y.a)(Object(y.a)(a))),a.checkFollow=a.checkFollow.bind(Object(y.a)(Object(y.a)(a))),a.handleFollow=a.handleFollow.bind(Object(y.a)(Object(y.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.fetchProfile()}},{key:"fetchProfile",value:function(){var e=this.props.sourceAPI,t=this;e(this.props.username).then(function(e){var a=e.data;t.setState({userid:a.id,username:a.username,displayname:a.display_name,tweets:a.tweet_number,followers:a.follower_number,followings:a.following_number}),t.checkFollow(t.state.userid)}).catch(function(e){alert(e.message)})}},{key:"checkFollow",value:function(e){var t=this;J.followings().then(function(a){a.data.map(function(e){return e.id}).includes(e)?t.setState({followed:!0}):t.setState({followed:!1})}).catch(function(e){"not found"===e.message?t.setState({followed:!1}):alert(e.message)})}},{key:"handleFollow",value:function(){var e=this;e.state.followed?J.unfollow(e.state.userid).then(function(t){e.setState({followed:!1})}).catch(function(e){alert(e.message)}):J.follow(e.state.userid).then(function(t){e.setState({followed:!0})}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){var e,t=this.props.classes;return e="Loading"===this.state.followed?r.a.createElement(x.a,{variant:"contained",color:"primary",disabled:!0,className:t.button},"Loading"):r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:this.handleFollow,className:t.button},this.state.followed?"Unfollow":"Follow"),r.a.createElement(Ie.a,{className:this.props.className},r.a.createElement(Fe.a,{className:t.media,title:"User banner"}),r.a.createElement(Fe.a,null,r.a.createElement($.a,{container:!0,spacing:0},r.a.createElement($.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(k.a,{alt:this.state.displayname,className:this.props.classes.bigAvatar,"background-color":We(this.state.displayname)},this.state.displayname[0].toUpperCase())),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(G.a,{variant:"title"},r.a.createElement(Ae,{to:"/u/"+this.state.username},this.state.displayname)),r.a.createElement(G.a,{gutterBottom:!0,variant:"caption"},r.a.createElement(Ae,{to:"/u/"+this.state.username},this.state.username))),r.a.createElement($.a,{item:!0,xs:2,md:2,lg:2},e)),r.a.createElement($.a,{container:!0,spacing:8,className:t.infobox},r.a.createElement($.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(G.a,{gutterBottom:!0,variant:"caption"},"Tweets"),r.a.createElement(G.a,{variant:"title",className:t.link},this.state.tweets)),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(G.a,{gutterBottom:!0,variant:"caption"},"Followers"),r.a.createElement(G.a,{variant:"title",className:t.link},this.state.followers)),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(G.a,{gutterBottom:!0,variant:"caption"},"Following"),r.a.createElement(G.a,{variant:"title",className:t.link},this.state.followings)))))}}]),t}(r.a.Component),Ge=Object(X.withStyles)(function(e){return{media:{height:110,backgroundColor:_e.a[500]},bigAvatar:{marginTop:-53,width:75,height:75,border:"3px solid #ffffff",backgroundColor:Me.a[500]},infobox:{marginTop:10},link:{color:_e.a[400]}}})(Be),Ue=a(6),qe=a.n(Ue),ze=a(88),He=a.n(ze),Je=a(128),Ye=a.n(Je),Ke=a(132),Qe=a.n(Ke),Ve=a(129),Xe=a.n(Ve),Ze=a(130),$e=a.n(Ze),et=a(131),tt=a.n(et),at=a(127),nt=a.n(at),rt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={text:""},a.handleTextChange=a.handleTextChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(Object(y.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target),a=this;this.props.targetAPI(t).then(function(e){a.setState({text:""}),alert("Success")}).catch(function(e){alert(e.message)})}},{key:"handleTextChange",value:function(e){this.setState({text:e.target.value})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.form,onSubmit:this.handleSubmit},r.a.createElement(T.a,{margin:"dense",required:!0,fullWidth:!0},r.a.createElement(nt.a,{name:"text",multiline:!0,rows:"3",labelWidth:0,placeholder:"Tweet comes here",className:e.textField,margin:"dense",value:this.state.text,onChange:this.handleTextChange})),r.a.createElement("div",{className:e.buttons},r.a.createElement(x.a,{type:"submit",variant:"contained",color:"primary",className:e.submit},"Post")))}}]),t}(r.a.Component),it=q()(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},form:{width:"100%",padding:"".concat(2*e.spacing.unit,"px")},buttons:{display:"flex",justifyContent:"flex-end"},submit:{marginTop:e.spacing.unit,marginLeft:e.spacing.unit}}})(rt),ot=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).handleExpandClick=function(){var e=a.props.classes;if(null==a.state.comments){var t=r.a.createElement(st,{className:e.tcollection,sourceAPI:function(){return J.getComments(a.props.tid)}});a.setState({comments:t})}a.setState(function(e){return{expanded:!e.expanded}})},a.handleLike=function(){J.like(a.props.tid).then(function(e){alert("Success")}).catch(function(e){alert(e.message)})},a.handleRetweet=function(){var e=a.props.tid;a.props.retweetFrom&&(e=a.props.retweetFrom.id);var t=new FormData;t.append("text",a.props.text),J.postRetweets(e,t).then(function(e){alert("Success")}).catch(function(e){alert(e.message)})},a.getHeader=function(){var e=a.props.classes;if(a.props.retweetFrom){var t=a.props.retweetFrom;return r.a.createElement("div",null,r.a.createElement(Fe.a,null,r.a.createElement(G.a,{className:e.retweeting,color:"textSecondary",gutterBottom:!0},a.props.userDisplayname+" retweeting")),r.a.createElement(He.a,{avatar:r.a.createElement(k.a,{"aria-label":"Recipe",className:e.avatar},t.display_name[0].toUpperCase()),action:r.a.createElement(ie.a,null,r.a.createElement(Se.a,null)),title:r.a.createElement(Ae,{to:"/u/"+t.username},t.display_name),subheader:t.created_at}))}return r.a.createElement(He.a,{avatar:r.a.createElement(k.a,{"aria-label":"Recipe",className:e.avatar},a.props.userDisplayname[0].toUpperCase()),action:r.a.createElement(ie.a,null,r.a.createElement(Se.a,null)),title:r.a.createElement(Ae,{to:"/u/"+a.props.username},a.props.userDisplayname),subheader:a.props.createdAt})},a.state={expanded:!1,comments:null},a.handleLike=a.handleLike.bind(Object(y.a)(Object(y.a)(a))),a.handleRetweet=a.handleRetweet.bind(Object(y.a)(Object(y.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this;return r.a.createElement(Ie.a,{className:this.props.className},this.getHeader(),r.a.createElement(Fe.a,null,r.a.createElement(G.a,{component:"p"},this.props.text)),r.a.createElement(Ye.a,{className:e.actions,disableActionSpacing:!0},r.a.createElement(ie.a,{"aria-label":"Add to favorites",onClick:this.handleLike},r.a.createElement(Xe.a,null),this.props.likes),r.a.createElement(ie.a,{"aria-label":"Share",onClick:this.handleRetweet},r.a.createElement($e.a,null),this.props.retweets),r.a.createElement(ie.a,{className:qe()(e.expand,Object(p.a)({},e.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(tt.a,null))),r.a.createElement(Qe.a,{in:this.state.expanded,timeout:"auto"},r.a.createElement(Fe.a,null,r.a.createElement(it,{targetAPI:function(e){return J.postComments(t.props.tid,e)}}),this.state.comments)))}}]),t}(r.a.Component),lt=Object(X.withStyles)(function(e){return{media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},retweeting:{fontSize:14},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Me.a[500]},tcollection:{flexGrow:1}}})(ot),ct=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={tweets:[]},a.fetchTweets(),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.sourceAPI!==this.props.sourceAPI&&this.fetchTweets()}},{key:"fetchTweets",value:function(){var e=this.props.sourceAPI,t=this.props.classes,a=this;e().then(function(e){var n=e.data.map(function(e){return r.a.createElement(lt,{className:t.paper,key:e.id,tid:e.id,text:e.text,username:e.username,userDisplayname:e.display_name,createdAt:e.created_at,retweetFrom:e.retweet_from,likes:e.like_num,retweets:e.retweet_num})});a.setState({tweets:n})}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className},this.state.tweets)}}]),t}(r.a.Component),st=Object(X.withStyles)(function(e){return{root:{flexGrow:1,overflow:"hidden",padding:"0 ".concat(3*e.spacing.unit,"px")},paper:{margin:"".concat(e.spacing.unit,"px auto"),padding:2*e.spacing.unit}}})(ct),mt=a(83),ut=a.n(mt),pt=a(52),dt=a.n(pt),ht=a(69),gt=a.n(ht),ft=a(68),Et=a.n(ft);var bt=Object(X.withStyles)(function(e){return{root:{width:"100%",maxWidth:360},inline:{display:"inline"},title:{paddingTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(W.a,{className:e.className},r.a.createElement(G.a,{className:t.title,component:"h1",variant:"h5"},"Recommendations"),r.a.createElement(ut.a,{className:t.root},r.a.createElement(dt.a,{alignItems:"flex-start"},r.a.createElement(Et.a,null,r.a.createElement(k.a,{alt:"Remy Sharp"},"R")),r.a.createElement(gt.a,{primary:"Brunch this weekend?",secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{component:"span",className:t.inline,color:"textPrimary"},"Ali Connors")," \u2014 I'll be in your neighborhood doing errands this\u2026")})),r.a.createElement(dt.a,{alignItems:"flex-start"},r.a.createElement(Et.a,null,r.a.createElement(k.a,{alt:"Remy Sharp"},"R")),r.a.createElement(gt.a,{primary:"Summer BBQ",secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{component:"span",className:t.inline,color:"textPrimary"},"to Scott, Alex, Jennifer")," \u2014 Wish I could come, but I'm out of town this\u2026")})),r.a.createElement(dt.a,{alignItems:"flex-start"},r.a.createElement(Et.a,null,r.a.createElement(k.a,{alt:"Remy Sharp"},"R")),r.a.createElement(gt.a,{primary:"Oui Oui",secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{component:"span",className:t.inline,color:"textPrimary"},"Sandra Adams")," \u2014 Do you have Paris recommendations? Have you ever\u2026")}))))});var wt=Object(X.withStyles)(function(e){return{navbar:{position:"relative"},profile:{width:"100%",maxWidth:400},layout:Object(p.a)({width:"auto",marginTop:1*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1800+3*e.spacing.unit*2),{width:1800,marginLeft:"auto",marginRight:"auto"}),editor:{marginTop:0,margin:"".concat(e.spacing.unit,"px auto")},tcollection:{flexGrow:1}}})(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement(Ne,{position:"static"}),r.a.createElement("main",{className:t.layout},r.a.createElement($.a,{container:!0,className:t.root,spacing:24},r.a.createElement($.a,{item:!0,xs:4,md:4,lg:3},r.a.createElement(Ge,{className:t.profile,sourceAPI:J.userProfile,username:"i"})),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:6},r.a.createElement(W.a,{className:t.editor},r.a.createElement(it,{targetAPI:J.postTweets})),r.a.createElement(st,{className:t.tcollection,sourceAPI:J.timeline})),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:3},r.a.createElement(bt,null)))))});var vt=Object(X.withStyles)(function(e){return{navbar:{position:"relative"},profile:{width:"100%",maxWidth:400},layout:Object(p.a)({width:"auto",marginTop:1*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1800+3*e.spacing.unit*2),{width:1800,marginLeft:"auto",marginRight:"auto"}),editor:{marginTop:0,margin:"".concat(e.spacing.unit,"px auto")},tcollection:{flexGrow:1}}})(function(e){var t=e.classes,a=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement(Ne,{position:"static"}),r.a.createElement("main",{className:t.layout},r.a.createElement($.a,{container:!0,className:t.root,spacing:24},r.a.createElement($.a,{item:!0,xs:4,md:4,lg:3},r.a.createElement(Ge,{className:t.profile,sourceAPI:J.userProfile,username:a.params.username})),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:6},r.a.createElement(st,{className:t.tcollection,sourceAPI:function(){return J.userTweets(a.params.username)}})),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:3}))))}),yt=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={keyword:h.searchparams().keyword};var n=Object(y.a)(Object(y.a)(a));return jt.listen(function(e,t){n.setState({keyword:h.searchparams().keyword})}),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement(Ne,{position:"static"}),r.a.createElement("main",{className:e.layout},r.a.createElement($.a,{container:!0,className:e.root,spacing:24},r.a.createElement($.a,{item:!0,xs:4,md:4,lg:3}),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:6},r.a.createElement(st,{className:e.tcollection,sourceAPI:function(){return J.search(t.state.keyword)}})),r.a.createElement($.a,{item:!0,xs:4,md:4,lg:3}))))}}]),t}(r.a.Component),Ot=Object(X.withStyles)(function(e){return{navbar:{position:"relative"},profile:{width:"100%",maxWidth:400},layout:Object(p.a)({width:"auto",marginTop:1*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1800+3*e.spacing.unit*2),{width:1800,marginLeft:"auto",marginRight:"auto"}),editor:{marginTop:0,margin:"".concat(e.spacing.unit,"px auto")},tcollection:{flexGrow:1}}})(yt),kt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).state={status:{test_id:0,user_count:0,follow_count:0,tweet_count:0}},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;return fetch("/api/test/status").then(function(e){return e.json()}).then(function(t){e.setState({status:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.status;return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Test User ID: ",e.test_id),r.a.createElement("li",null,"User Count: ",e.user_count),r.a.createElement("li",null,"Follow Count: ",e.follow_count),r.a.createElement("li",null,"Tweet Count: ",e.tweet_count)))}}]),t}(r.a.Component),jt=Object(u.a)();function xt(e){var t=e.component,a=Object(l.a)(e,["component"]);return r.a.createElement(s.a,Object.assign({},a,{render:function(e){return g.isLoggedIn()?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var St=function(){return console.log(jt),r.a.createElement(c.a,{history:jt},r.a.createElement("div",null,r.a.createElement(xt,{exact:!0,path:"/",component:wt}),r.a.createElement(xt,{path:"/u/:username",component:vt}),r.a.createElement(xt,{path:"/search",component:Ot}),r.a.createElement(s.a,{path:"/login",component:K}),r.a.createElement(s.a,{path:"/register",component:V}),r.a.createElement(s.a,{path:"/test/status",component:kt})))};o.a.render(r.a.createElement(St,null),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.9e8544e3.chunk.js.map